"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/voice/recognize/route";
exports.ids = ["app/api/voice/recognize/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvoice%2Frecognize%2Froute&page=%2Fapi%2Fvoice%2Frecognize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvoice%2Frecognize%2Froute.ts&appDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvoice%2Frecognize%2Froute&page=%2Fapi%2Fvoice%2Frecognize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvoice%2Frecognize%2Froute.ts&appDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_negishi_Documents_develop_Hackathon_TokyoOpenDataHackathon_src_app_api_voice_recognize_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/voice/recognize/route.ts */ \"(rsc)/./src/app/api/voice/recognize/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/voice/recognize/route\",\n        pathname: \"/api/voice/recognize\",\n        filename: \"route\",\n        bundlePath: \"app/api/voice/recognize/route\"\n    },\n    resolvedPagePath: \"/Users/negishi/Documents/develop/Hackathon/TokyoOpenDataHackathon/src/app/api/voice/recognize/route.ts\",\n    nextConfigOutput,\n    userland: _Users_negishi_Documents_develop_Hackathon_TokyoOpenDataHackathon_src_app_api_voice_recognize_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/voice/recognize/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2b2ljZSUyRnJlY29nbml6ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdm9pY2UlMkZyZWNvZ25pemUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ2b2ljZSUyRnJlY29nbml6ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm5lZ2lzaGklMkZEb2N1bWVudHMlMkZkZXZlbG9wJTJGSGFja2F0aG9uJTJGVG9reW9PcGVuRGF0YUhhY2thdGhvbiUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZuZWdpc2hpJTJGRG9jdW1lbnRzJTJGZGV2ZWxvcCUyRkhhY2thdGhvbiUyRlRva3lvT3BlbkRhdGFIYWNrYXRob24maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NEO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9reW8tb3BlbmRhdGEtaGFja2F0aG9uLz80ZTI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9uZWdpc2hpL0RvY3VtZW50cy9kZXZlbG9wL0hhY2thdGhvbi9Ub2t5b09wZW5EYXRhSGFja2F0aG9uL3NyYy9hcHAvYXBpL3ZvaWNlL3JlY29nbml6ZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdm9pY2UvcmVjb2duaXplL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdm9pY2UvcmVjb2duaXplXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS92b2ljZS9yZWNvZ25pemUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbmVnaXNoaS9Eb2N1bWVudHMvZGV2ZWxvcC9IYWNrYXRob24vVG9reW9PcGVuRGF0YUhhY2thdGhvbi9zcmMvYXBwL2FwaS92b2ljZS9yZWNvZ25pemUvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3ZvaWNlL3JlY29nbml6ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvoice%2Frecognize%2Froute&page=%2Fapi%2Fvoice%2Frecognize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvoice%2Frecognize%2Froute.ts&appDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/voice/recognize/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/voice/recognize/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_services_GeminiService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/services/GeminiService */ \"(rsc)/./src/lib/services/GeminiService.ts\");\n\n\nlet geminiService;\nasync function initializeService() {\n    if (!geminiService) {\n        geminiService = new _lib_services_GeminiService__WEBPACK_IMPORTED_MODULE_1__.GeminiService();\n    }\n}\nasync function POST(request) {\n    try {\n        await initializeService();\n        const body = await request.json();\n        const { audioData, mimeType, sessionId, language = \"ja\" } = body;\n        if (!audioData || !mimeType || !sessionId) {\n            const response = {\n                success: false,\n                error: \"audioData, mimeType, and sessionId are required\"\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n                status: 400\n            });\n        }\n        try {\n            // Use Gemini to transcribe audio\n            const transcribedText = await geminiService.processAudio(audioData, mimeType);\n            if (!transcribedText || transcribedText.trim().length === 0) {\n                const response = {\n                    success: false,\n                    error: \"Failed to transcribe audio - no text detected\"\n                };\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n                    status: 400\n                });\n            }\n            const voiceResponse = {\n                text: transcribedText.trim()\n            };\n            const response = {\n                success: true,\n                data: voiceResponse,\n                message: \"Audio transcribed successfully\"\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n                status: 200\n            });\n        } catch (error) {\n            console.error(\"Voice recognition error:\", error);\n            const response = {\n                success: false,\n                error: \"Failed to process audio recognition\"\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Voice API error:\", error);\n        const response = {\n            success: false,\n            error: \"Failed to process voice request\"\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n            status: 500\n        });\n    }\n}\nasync function OPTIONS(request) {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 200,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92b2ljZS9yZWNvZ25pemUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUVLO0FBRTdELElBQUlFO0FBRUosZUFBZUM7SUFDYixJQUFJLENBQUNELGVBQWU7UUFDbEJBLGdCQUFnQixJQUFJRCxzRUFBYUE7SUFDbkM7QUFDRjtBQUVPLGVBQWVHLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNRjtRQUVOLE1BQU1HLE9BQXFCLE1BQU1ELFFBQVFFLElBQUk7UUFDN0MsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxXQUFXLElBQUksRUFBRSxHQUFHTDtRQUU1RCxJQUFJLENBQUNFLGFBQWEsQ0FBQ0MsWUFBWSxDQUFDQyxXQUFXO1lBQ3pDLE1BQU1FLFdBQXdCO2dCQUM1QkMsU0FBUztnQkFDVEMsT0FBTztZQUNUO1lBQ0EsT0FBT2QscURBQVlBLENBQUNPLElBQUksQ0FBQ0ssVUFBVTtnQkFBRUcsUUFBUTtZQUFJO1FBQ25EO1FBRUEsSUFBSTtZQUNGLGlDQUFpQztZQUNqQyxNQUFNQyxrQkFBa0IsTUFBTWQsY0FBY2UsWUFBWSxDQUFDVCxXQUFXQztZQUVwRSxJQUFJLENBQUNPLG1CQUFtQkEsZ0JBQWdCRSxJQUFJLEdBQUdDLE1BQU0sS0FBSyxHQUFHO2dCQUMzRCxNQUFNUCxXQUF3QjtvQkFDNUJDLFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7Z0JBQ0EsT0FBT2QscURBQVlBLENBQUNPLElBQUksQ0FBQ0ssVUFBVTtvQkFBRUcsUUFBUTtnQkFBSTtZQUNuRDtZQUVBLE1BQU1LLGdCQUErQjtnQkFDbkNDLE1BQU1MLGdCQUFnQkUsSUFBSTtZQUM1QjtZQUVBLE1BQU1OLFdBQXVDO2dCQUMzQ0MsU0FBUztnQkFDVFMsTUFBTUY7Z0JBQ05HLFNBQVM7WUFDWDtZQUVBLE9BQU92QixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDSyxVQUFVO2dCQUFFRyxRQUFRO1lBQUk7UUFFbkQsRUFBRSxPQUFPRCxPQUFPO1lBQ2RVLFFBQVFWLEtBQUssQ0FBQyw0QkFBNEJBO1lBRTFDLE1BQU1GLFdBQXdCO2dCQUM1QkMsU0FBUztnQkFDVEMsT0FBTztZQUNUO1lBRUEsT0FBT2QscURBQVlBLENBQUNPLElBQUksQ0FBQ0ssVUFBVTtnQkFBRUcsUUFBUTtZQUFJO1FBQ25EO0lBRUYsRUFBRSxPQUFPRCxPQUFPO1FBQ2RVLFFBQVFWLEtBQUssQ0FBQyxvQkFBb0JBO1FBRWxDLE1BQU1GLFdBQXdCO1lBQzVCQyxTQUFTO1lBQ1RDLE9BQU87UUFDVDtRQUVBLE9BQU9kLHFEQUFZQSxDQUFDTyxJQUFJLENBQUNLLFVBQVU7WUFBRUcsUUFBUTtRQUFJO0lBQ25EO0FBQ0Y7QUFFTyxlQUFlVSxRQUFRcEIsT0FBb0I7SUFDaEQsT0FBTyxJQUFJTCxxREFBWUEsQ0FBQyxNQUFNO1FBQzVCZSxRQUFRO1FBQ1JXLFNBQVM7WUFDUCwrQkFBK0I7WUFDL0IsZ0NBQWdDO1lBQ2hDLGdDQUFnQztRQUNsQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2t5by1vcGVuZGF0YS1oYWNrYXRob24vLi9zcmMvYXBwL2FwaS92b2ljZS9yZWNvZ25pemUvcm91dGUudHM/N2I5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgVm9pY2VSZXF1ZXN0LCBWb2ljZVJlc3BvbnNlLCBBcGlSZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgR2VtaW5pU2VydmljZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL0dlbWluaVNlcnZpY2UnO1xuXG5sZXQgZ2VtaW5pU2VydmljZTogR2VtaW5pU2VydmljZTtcblxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlcnZpY2UoKSB7XG4gIGlmICghZ2VtaW5pU2VydmljZSkge1xuICAgIGdlbWluaVNlcnZpY2UgPSBuZXcgR2VtaW5pU2VydmljZSgpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZVNlcnZpY2UoKTtcblxuICAgIGNvbnN0IGJvZHk6IFZvaWNlUmVxdWVzdCA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgYXVkaW9EYXRhLCBtaW1lVHlwZSwgc2Vzc2lvbklkLCBsYW5ndWFnZSA9ICdqYScgfSA9IGJvZHk7XG5cbiAgICBpZiAoIWF1ZGlvRGF0YSB8fCAhbWltZVR5cGUgfHwgIXNlc3Npb25JZCkge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlID0ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdhdWRpb0RhdGEsIG1pbWVUeXBlLCBhbmQgc2Vzc2lvbklkIGFyZSByZXF1aXJlZCcsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgR2VtaW5pIHRvIHRyYW5zY3JpYmUgYXVkaW9cbiAgICAgIGNvbnN0IHRyYW5zY3JpYmVkVGV4dCA9IGF3YWl0IGdlbWluaVNlcnZpY2UucHJvY2Vzc0F1ZGlvKGF1ZGlvRGF0YSwgbWltZVR5cGUpO1xuXG4gICAgICBpZiAoIXRyYW5zY3JpYmVkVGV4dCB8fCB0cmFuc2NyaWJlZFRleHQudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2UgPSB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gdHJhbnNjcmliZSBhdWRpbyAtIG5vIHRleHQgZGV0ZWN0ZWQnLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZvaWNlUmVzcG9uc2U6IFZvaWNlUmVzcG9uc2UgPSB7XG4gICAgICAgIHRleHQ6IHRyYW5zY3JpYmVkVGV4dC50cmltKCksXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2U8Vm9pY2VSZXNwb25zZT4gPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHZvaWNlUmVzcG9uc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdBdWRpbyB0cmFuc2NyaWJlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlLCB7IHN0YXR1czogMjAwIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZvaWNlIHJlY29nbml0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlID0ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gcHJvY2VzcyBhdWRpbyByZWNvZ25pdGlvbicsXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVm9pY2UgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2UgPSB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHByb2Nlc3Mgdm9pY2UgcmVxdWVzdCcsXG4gICAgfTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gT1BUSU9OUyhyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgc3RhdHVzOiAyMDAsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ1BPU1QsIE9QVElPTlMnLFxuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJyxcbiAgICB9LFxuICB9KTtcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiR2VtaW5pU2VydmljZSIsImdlbWluaVNlcnZpY2UiLCJpbml0aWFsaXplU2VydmljZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJhdWRpb0RhdGEiLCJtaW1lVHlwZSIsInNlc3Npb25JZCIsImxhbmd1YWdlIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJ0cmFuc2NyaWJlZFRleHQiLCJwcm9jZXNzQXVkaW8iLCJ0cmltIiwibGVuZ3RoIiwidm9pY2VSZXNwb25zZSIsInRleHQiLCJkYXRhIiwibWVzc2FnZSIsImNvbnNvbGUiLCJPUFRJT05TIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/voice/recognize/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/config.ts":
/*!***************************!*\
  !*** ./src/lib/config.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   getApiBaseUrl: () => (/* binding */ getApiBaseUrl),\n/* harmony export */   isProduction: () => (/* binding */ isProduction),\n/* harmony export */   validateConfig: () => (/* binding */ validateConfig)\n/* harmony export */ });\nconst config = {\n    geminiApiKey: process.env.GEMINI_API_KEY || \"\",\n    redisUrl: process.env.REDIS_URL,\n    gcpProjectId: process.env.GOOGLE_CLOUD_PROJECT_ID,\n    gcpRegion: process.env.GOOGLE_CLOUD_REGION || \"us-central1\",\n    enableVoice: \"true\" === \"true\",\n    enableMultiLanguage: \"true\" === \"true\",\n    maxSessionDuration: parseInt(\"3600000\" || 0),\n    maxMessagesPerSession: parseInt(\"50\" || 0)\n};\nconst validateConfig = ()=>{\n    if (!config.geminiApiKey) {\n        throw new Error(\"GEMINI_API_KEY is required\");\n    }\n};\nconst getApiBaseUrl = ()=>{\n    return \"http://localhost:3000\" || 0;\n};\nconst isProduction = ()=>{\n    return \"development\" === \"production\";\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRU8sTUFBTUEsU0FBb0I7SUFDL0JDLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJO0lBQzVDQyxVQUFVSCxRQUFRQyxHQUFHLENBQUNHLFNBQVM7SUFDL0JDLGNBQWNMLFFBQVFDLEdBQUcsQ0FBQ0ssdUJBQXVCO0lBQ2pEQyxXQUFXUCxRQUFRQyxHQUFHLENBQUNPLG1CQUFtQixJQUFJO0lBQzlDQyxhQUFhVCxNQUFvQyxLQUFLO0lBQ3REVyxxQkFBcUJYLE1BQXdDLEtBQUs7SUFDbEVhLG9CQUFvQkMsU0FBU2QsU0FBNEMsSUFBSTtJQUM3RWdCLHVCQUF1QkYsU0FBU2QsSUFBZ0QsSUFBSTtBQUN0RixFQUFFO0FBRUssTUFBTWtCLGlCQUFpQjtJQUM1QixJQUFJLENBQUNwQixPQUFPQyxZQUFZLEVBQUU7UUFDeEIsTUFBTSxJQUFJb0IsTUFBTTtJQUNsQjtBQUNGLEVBQUU7QUFFSyxNQUFNQyxnQkFBZ0I7SUFDM0IsT0FBT3BCLHVCQUFvQyxJQUFJO0FBQ2pELEVBQUU7QUFFSyxNQUFNc0IsZUFBZTtJQUMxQixPQUFPdEIsa0JBQXlCO0FBQ2xDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2t5by1vcGVuZGF0YS1oYWNrYXRob24vLi9zcmMvbGliL2NvbmZpZy50cz9hM2VmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcENvbmZpZyB9IGZyb20gJ0AvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgY29uZmlnOiBBcHBDb25maWcgPSB7XG4gIGdlbWluaUFwaUtleTogcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgfHwgJycsXG4gIHJlZGlzVXJsOiBwcm9jZXNzLmVudi5SRURJU19VUkwsXG4gIGdjcFByb2plY3RJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX1BST0pFQ1RfSUQsXG4gIGdjcFJlZ2lvbjogcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX1JFR0lPTiB8fCAndXMtY2VudHJhbDEnLFxuICBlbmFibGVWb2ljZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRU5BQkxFX1ZPSUNFID09PSAndHJ1ZScsXG4gIGVuYWJsZU11bHRpTGFuZ3VhZ2U6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VOQUJMRV9NVUxUSUxBTkcgPT09ICd0cnVlJyxcbiAgbWF4U2Vzc2lvbkR1cmF0aW9uOiBwYXJzZUludChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVhfU0VTU0lPTl9EVVJBVElPTiB8fCAnMzYwMDAwMCcpLFxuICBtYXhNZXNzYWdlc1BlclNlc3Npb246IHBhcnNlSW50KHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01BWF9NRVNTQUdFU19QRVJfU0VTU0lPTiB8fCAnNTAnKSxcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNvbmZpZyA9ICgpOiB2b2lkID0+IHtcbiAgaWYgKCFjb25maWcuZ2VtaW5pQXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdHRU1JTklfQVBJX0tFWSBpcyByZXF1aXJlZCcpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXBpQmFzZVVybCA9ICgpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0JBU0VfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzUHJvZHVjdGlvbiA9ICgpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG59OyJdLCJuYW1lcyI6WyJjb25maWciLCJnZW1pbmlBcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJyZWRpc1VybCIsIlJFRElTX1VSTCIsImdjcFByb2plY3RJZCIsIkdPT0dMRV9DTE9VRF9QUk9KRUNUX0lEIiwiZ2NwUmVnaW9uIiwiR09PR0xFX0NMT1VEX1JFR0lPTiIsImVuYWJsZVZvaWNlIiwiTkVYVF9QVUJMSUNfRU5BQkxFX1ZPSUNFIiwiZW5hYmxlTXVsdGlMYW5ndWFnZSIsIk5FWFRfUFVCTElDX0VOQUJMRV9NVUxUSUxBTkciLCJtYXhTZXNzaW9uRHVyYXRpb24iLCJwYXJzZUludCIsIk5FWFRfUFVCTElDX01BWF9TRVNTSU9OX0RVUkFUSU9OIiwibWF4TWVzc2FnZXNQZXJTZXNzaW9uIiwiTkVYVF9QVUJMSUNfTUFYX01FU1NBR0VTX1BFUl9TRVNTSU9OIiwidmFsaWRhdGVDb25maWciLCJFcnJvciIsImdldEFwaUJhc2VVcmwiLCJORVhUX1BVQkxJQ19BUElfQkFTRV9VUkwiLCJpc1Byb2R1Y3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/services/GeminiService.ts":
/*!*******************************************!*\
  !*** ./src/lib/services/GeminiService.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeminiService: () => (/* binding */ GeminiService)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var _lib_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/config */ \"(rsc)/./src/lib/config.ts\");\n\n\nclass GeminiService {\n    constructor(){\n        if (!_lib_config__WEBPACK_IMPORTED_MODULE_1__.config.geminiApiKey) {\n            throw new Error(\"Gemini API key is not configured\");\n        }\n        this.genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(_lib_config__WEBPACK_IMPORTED_MODULE_1__.config.geminiApiKey);\n        this.model = this.genAI.getGenerativeModel({\n            model: \"gemini-2.0-flash-exp\"\n        });\n    }\n    async generateText(prompt, context) {\n        try {\n            const fullPrompt = context ? `Context: ${context}\\n\\nUser Question: ${prompt}\\n\\nPlease provide a helpful and accurate response based on the context provided. If the context doesn't contain relevant information, please say so and provide general guidance.` : prompt;\n            const result = await this.model.generateContent(fullPrompt);\n            const response = await result.response;\n            return response.text();\n        } catch (error) {\n            console.error(\"Error generating text with Gemini:\", error);\n            throw new Error(\"Failed to generate response\");\n        }\n    }\n    async processAudio(audioData, mimeType) {\n        try {\n            // Convert base64 to buffer if needed\n            const audioBuffer = Buffer.from(audioData, \"base64\");\n            const result = await this.model.generateContent([\n                {\n                    inlineData: {\n                        data: audioData,\n                        mimeType: mimeType\n                    }\n                },\n                \"Please transcribe this audio to text. Respond only with the transcribed text.\"\n            ]);\n            const response = await result.response;\n            return response.text();\n        } catch (error) {\n            console.error(\"Error processing audio with Gemini:\", error);\n            throw new Error(\"Failed to process audio\");\n        }\n    }\n    async generateSpeech(text, language = \"ja\") {\n        try {\n            // Note: Gemini doesn't have direct text-to-speech yet\n            // This is a placeholder for future implementation\n            // You might want to use Web Speech API on the client side instead\n            const prompt = `Generate audio for the following text in ${language}: \"${text}\"`;\n            const result = await this.model.generateContent([\n                prompt,\n                \"Please generate speech audio for this text. Return the audio as base64 encoded data.\"\n            ]);\n            const response = await result.response;\n            return response.text();\n        } catch (error) {\n            console.error(\"Error generating speech with Gemini:\", error);\n            // Return empty string as fallback - client will use Web Speech API\n            return \"\";\n        }\n    }\n    async embedText(text) {\n        try {\n            // Use Gemini's embedding model\n            const embeddingModel = this.genAI.getGenerativeModel({\n                model: \"text-embedding-004\"\n            });\n            const result = await embeddingModel.embedContent(text);\n            return result.embedding.values;\n        } catch (error) {\n            console.error(\"Error generating embeddings with Gemini:\", error);\n            throw new Error(\"Failed to generate embeddings\");\n        }\n    }\n    async analyzeIntent(message) {\n        try {\n            const prompt = `\nAnalyze the following user message and extract:\n1. Intent (one of: greeting, question, request_info, complaint, thanks, goodbye, childcare_info, disaster_info, general_info)\n2. Entities (key information like location, facility type, age, etc.)\n3. Confidence score (0-1)\n\nUser message: \"${message}\"\n\nRespond in JSON format:\n{\n  \"intent\": \"intent_name\",\n  \"entities\": {\"key\": \"value\"},\n  \"confidence\": 0.95\n}`;\n            const result = await this.model.generateContent(prompt);\n            const response = await result.response;\n            const text = response.text();\n            try {\n                return JSON.parse(text);\n            } catch  {\n                // Fallback if JSON parsing fails\n                return {\n                    intent: \"question\",\n                    entities: {},\n                    confidence: 0.5\n                };\n            }\n        } catch (error) {\n            console.error(\"Error analyzing intent with Gemini:\", error);\n            return {\n                intent: \"question\",\n                entities: {},\n                confidence: 0.5\n            };\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVMsTUFBTSxJQUFJLENBQUNOLEtBQUssQ0FBQ08sZUFBZSxDQUFDSjtZQUNoRCxNQUFNSyxXQUFXLE1BQU1GLE9BQU9FLFFBQVE7WUFDdEMsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtZQUUxQixJQUFJO2dCQUNGLE9BQU9vQixLQUFLQyxLQUFLLENBQUNyQjtZQUNwQixFQUFFLE9BQU07Z0JBQ04saUNBQWlDO2dCQUNqQyxPQUFPO29CQUNMc0IsUUFBUTtvQkFDUkMsVUFBVSxDQUFDO29CQUNYQyxZQUFZO2dCQUNkO1lBQ0Y7UUFDRixFQUFFLE9BQU92QixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx1Q0FBdUNBO1lBQ3JELE9BQU87Z0JBQ0xxQixRQUFRO2dCQUNSQyxVQUFVLENBQUM7Z0JBQ1hDLFlBQVk7WUFDZDtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Rva3lvLW9wZW5kYXRhLWhhY2thdGhvbi8uL3NyYy9saWIvc2VydmljZXMvR2VtaW5pU2VydmljZS50cz85YTRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gJ0Bnb29nbGUvZ2VuZXJhdGl2ZS1haSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdAL2xpYi9jb25maWcnO1xuXG5leHBvcnQgY2xhc3MgR2VtaW5pU2VydmljZSB7XG4gIHByaXZhdGUgZ2VuQUk6IEdvb2dsZUdlbmVyYXRpdmVBSTtcbiAgcHJpdmF0ZSBtb2RlbDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICghY29uZmlnLmdlbWluaUFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdHZW1pbmkgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZCcpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShjb25maWcuZ2VtaW5pQXBpS2V5KTtcbiAgICB0aGlzLm1vZGVsID0gdGhpcy5nZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoeyBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gtZXhwJyB9KTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlVGV4dChwcm9tcHQ6IHN0cmluZywgY29udGV4dD86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZ1bGxQcm9tcHQgPSBjb250ZXh0IFxuICAgICAgICA/IGBDb250ZXh0OiAke2NvbnRleHR9XFxuXFxuVXNlciBRdWVzdGlvbjogJHtwcm9tcHR9XFxuXFxuUGxlYXNlIHByb3ZpZGUgYSBoZWxwZnVsIGFuZCBhY2N1cmF0ZSByZXNwb25zZSBiYXNlZCBvbiB0aGUgY29udGV4dCBwcm92aWRlZC4gSWYgdGhlIGNvbnRleHQgZG9lc24ndCBjb250YWluIHJlbGV2YW50IGluZm9ybWF0aW9uLCBwbGVhc2Ugc2F5IHNvIGFuZCBwcm92aWRlIGdlbmVyYWwgZ3VpZGFuY2UuYFxuICAgICAgICA6IHByb21wdDtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb2RlbC5nZW5lcmF0ZUNvbnRlbnQoZnVsbFByb21wdCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgdGV4dCB3aXRoIEdlbWluaTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSByZXNwb25zZScpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHByb2Nlc3NBdWRpbyhhdWRpb0RhdGE6IHN0cmluZywgbWltZVR5cGU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgYmFzZTY0IHRvIGJ1ZmZlciBpZiBuZWVkZWRcbiAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmZyb20oYXVkaW9EYXRhLCAnYmFzZTY0Jyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubW9kZWwuZ2VuZXJhdGVDb250ZW50KFtcbiAgICAgICAge1xuICAgICAgICAgIGlubGluZURhdGE6IHtcbiAgICAgICAgICAgIGRhdGE6IGF1ZGlvRGF0YSxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBtaW1lVHlwZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ1BsZWFzZSB0cmFuc2NyaWJlIHRoaXMgYXVkaW8gdG8gdGV4dC4gUmVzcG9uZCBvbmx5IHdpdGggdGhlIHRyYW5zY3JpYmVkIHRleHQuJ1xuICAgICAgXSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBhdWRpbyB3aXRoIEdlbWluaTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIGF1ZGlvJyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVTcGVlY2godGV4dDogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nID0gJ2phJyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIE5vdGU6IEdlbWluaSBkb2Vzbid0IGhhdmUgZGlyZWN0IHRleHQtdG8tc3BlZWNoIHlldFxuICAgICAgLy8gVGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBmdXR1cmUgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIFlvdSBtaWdodCB3YW50IHRvIHVzZSBXZWIgU3BlZWNoIEFQSSBvbiB0aGUgY2xpZW50IHNpZGUgaW5zdGVhZFxuICAgICAgXG4gICAgICBjb25zdCBwcm9tcHQgPSBgR2VuZXJhdGUgYXVkaW8gZm9yIHRoZSBmb2xsb3dpbmcgdGV4dCBpbiAke2xhbmd1YWdlfTogXCIke3RleHR9XCJgO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlQ29udGVudChbXG4gICAgICAgIHByb21wdCxcbiAgICAgICAgJ1BsZWFzZSBnZW5lcmF0ZSBzcGVlY2ggYXVkaW8gZm9yIHRoaXMgdGV4dC4gUmV0dXJuIHRoZSBhdWRpbyBhcyBiYXNlNjQgZW5jb2RlZCBkYXRhLidcbiAgICAgIF0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgc3BlZWNoIHdpdGggR2VtaW5pOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBlbXB0eSBzdHJpbmcgYXMgZmFsbGJhY2sgLSBjbGllbnQgd2lsbCB1c2UgV2ViIFNwZWVjaCBBUElcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICBhc3luYyBlbWJlZFRleHQodGV4dDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgR2VtaW5pJ3MgZW1iZWRkaW5nIG1vZGVsXG4gICAgICBjb25zdCBlbWJlZGRpbmdNb2RlbCA9IHRoaXMuZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6ICd0ZXh0LWVtYmVkZGluZy0wMDQnIH0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW1iZWRkaW5nTW9kZWwuZW1iZWRDb250ZW50KHRleHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdC5lbWJlZGRpbmcudmFsdWVzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGVtYmVkZGluZ3Mgd2l0aCBHZW1pbmk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgZW1iZWRkaW5ncycpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFuYWx5emVJbnRlbnQobWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgaW50ZW50OiBzdHJpbmc7XG4gICAgZW50aXRpZXM6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb21wdCA9IGBcbkFuYWx5emUgdGhlIGZvbGxvd2luZyB1c2VyIG1lc3NhZ2UgYW5kIGV4dHJhY3Q6XG4xLiBJbnRlbnQgKG9uZSBvZjogZ3JlZXRpbmcsIHF1ZXN0aW9uLCByZXF1ZXN0X2luZm8sIGNvbXBsYWludCwgdGhhbmtzLCBnb29kYnllLCBjaGlsZGNhcmVfaW5mbywgZGlzYXN0ZXJfaW5mbywgZ2VuZXJhbF9pbmZvKVxuMi4gRW50aXRpZXMgKGtleSBpbmZvcm1hdGlvbiBsaWtlIGxvY2F0aW9uLCBmYWNpbGl0eSB0eXBlLCBhZ2UsIGV0Yy4pXG4zLiBDb25maWRlbmNlIHNjb3JlICgwLTEpXG5cblVzZXIgbWVzc2FnZTogXCIke21lc3NhZ2V9XCJcblxuUmVzcG9uZCBpbiBKU09OIGZvcm1hdDpcbntcbiAgXCJpbnRlbnRcIjogXCJpbnRlbnRfbmFtZVwiLFxuICBcImVudGl0aWVzXCI6IHtcImtleVwiOiBcInZhbHVlXCJ9LFxuICBcImNvbmZpZGVuY2VcIjogMC45NVxufWA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS50ZXh0KCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIEZhbGxiYWNrIGlmIEpTT04gcGFyc2luZyBmYWlsc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGludGVudDogJ3F1ZXN0aW9uJyxcbiAgICAgICAgICBlbnRpdGllczoge30sXG4gICAgICAgICAgY29uZmlkZW5jZTogMC41XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBpbnRlbnQgd2l0aCBHZW1pbmk6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW50ZW50OiAncXVlc3Rpb24nLFxuICAgICAgICBlbnRpdGllczoge30sXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiR29vZ2xlR2VuZXJhdGl2ZUFJIiwiY29uZmlnIiwiR2VtaW5pU2VydmljZSIsImNvbnN0cnVjdG9yIiwiZ2VtaW5pQXBpS2V5IiwiRXJyb3IiLCJnZW5BSSIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiZ2VuZXJhdGVUZXh0IiwicHJvbXB0IiwiY29udGV4dCIsImZ1bGxQcm9tcHQiLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJyZXNwb25zZSIsInRleHQiLCJlcnJvciIsImNvbnNvbGUiLCJwcm9jZXNzQXVkaW8iLCJhdWRpb0RhdGEiLCJtaW1lVHlwZSIsImF1ZGlvQnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsImlubGluZURhdGEiLCJkYXRhIiwiZ2VuZXJhdGVTcGVlY2giLCJsYW5ndWFnZSIsImVtYmVkVGV4dCIsImVtYmVkZGluZ01vZGVsIiwiZW1iZWRDb250ZW50IiwiZW1iZWRkaW5nIiwidmFsdWVzIiwiYW5hbHl6ZUludGVudCIsIm1lc3NhZ2UiLCJKU09OIiwicGFyc2UiLCJpbnRlbnQiLCJlbnRpdGllcyIsImNvbmZpZGVuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/services/GeminiService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvoice%2Frecognize%2Froute&page=%2Fapi%2Fvoice%2Frecognize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvoice%2Frecognize%2Froute.ts&appDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnegishi%2FDocuments%2Fdevelop%2FHackathon%2FTokyoOpenDataHackathon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();